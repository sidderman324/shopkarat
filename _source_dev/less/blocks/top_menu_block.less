// Для импорта в диспетчер подключений: @import './../_source_dev/less/blocks/top_menu_block.less';


.top_menu_block {
  width: 100%;
  position: relative;

  &:before {
    content: '';
    display: inline-block;
    width: 100vw;
    height: 100%;
    background-color: @gray-bgr;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    z-index: 11;

    @media (max-width: @screen-sm) {
      display: none;
    }
  }

  nav {
    position: relative;
    z-index: 100;

    @media (max-width: @screen-sm) {
      display: none;
      position: absolute;
      top: 5.7em;
      background-color: #fff;
      width: 100vw;
      left: -3vw;
      padding: 2em 4.3em 5em 4.3em;
    }

    &:after {
      content: '';
      display: inline-block;
      width: 100%;
      position: absolute;
      top: 100%;
      left: 0;
      background: rgba(0,0,0,0.5);
      background: -moz-linear-gradient(top, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
      background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(0,0,0,0.5)), color-stop(100%, rgba(0,0,0,0)));
      background: -webkit-linear-gradient(top, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
      background: -o-linear-gradient(top, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
      background: -ms-linear-gradient(top, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
      background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 100%);
      height: 0;
      transition: .3s;
    }
  }

  nav.opened:after {
    height: 100vh;
  }

  ul.top_menu {
    display: -webkit-flex;
    display: -ms-flex;
    display: flex;
    flex-direction: row;
    align-items: baseline;
    justify-content: space-between;

    @media (max-width: @screen-sm) {
      display: -webkit-flex;
      display: -ms-flex;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    .spoiler_arrow {
      display: inline-block;
      width: 4em;
      height: 100%;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      left: 100%;
      display: none;

      @media (max-width: @screen-sm) {
        display: inline-block;
      }
    }
    .js-show-catalog-menu:before,
    .spoiler_arrow:before {
      content: '';
      display: inline-block;
      width: 1.5em;
      height: 1.5em;
      position: absolute;
      top: 50%;
      left: 0;
      transform: translateY(-50%) rotate(90deg);
      background-image: url('../imgs/icons/icon_arrow_black.svg');
      background-size: 1em;
      background-repeat: no-repeat;
      background-size: contain;
      background-position: center;
      transition: .3s;
      font-size: .6rem;
    }
    .js-show-catalog-menu:before {
      left: 140%;
    }
    .js-show-catalog-menu.active:before {
      transform: translateY(-50%) rotate(-90deg);
    }
    .menu_link_box.opened .spoiler_arrow:before {
      transform: translateY(-50%) rotate(-90deg);
    }

    li.mobile {
      display: none;

      @media (max-width: @screen-sm) {
        display: inline-block;
      }
    }

    li {
      list-style-type: none;
      a {
        display: inline-block;
        text-decoration: none;
        color: @black;
        font-size: 1.125em;
        font-weight: bold;
        padding: .7em 0;
        position: relative;

        @media (max-width: @screen-sm) {
          font-size: 1.35em;
          display: -webkit-flex;
          display: -ms-flex;
          display: flex;
          align-items: center;
        }

        &:after {
          content: '';
          display: inline-block;
          width: 100%;
          height: 2px;
          background-color: @orange;
          position: absolute;
          bottom: .4em;
          left: 0;
          opacity: 0;
          transition: .3s;
        }
      }
      a.active,
      a:hover {
        &:after {
          opacity: 1;
        }
      }
    }

    .btn {
      @media (max-width: @screen-sm) {
        margin-bottom: .9em;
      }
    }
    .link {
      padding-left: 2.2em;
    }
    .link--favorite .icon,
    .link--compare .icon,
    .icon--geo {
      width: 1.1em;
      height: 1.5em;
      position: absolute;
      background-size: 1em;
      top: 50%;
      left: 0;
      transform: translateY(-50%);

    }
  }
}
